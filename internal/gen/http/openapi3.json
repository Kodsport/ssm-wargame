{"openapi":"3.0.3","info":{"title":"Wargame Service","description":"HTTP service for the SSM Wargame","version":"1.0"},"servers":[{"url":"http://localhost:80","description":"Default server for wargame"}],"paths":{"/auth/discord/exchange":{"post":{"tags":["auth"],"summary":"ExchangeDiscord auth","operationId":"auth#ExchangeDiscord","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeDiscordRequestBody"},"example":{"code":"123abc","state":"15773059ghq9183habn"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeDiscordResponseBody"},"example":{"jwt":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"}}}}}}},"/auth/discord/url":{"get":{"tags":["auth"],"summary":"GenerateDiscordAuthURL auth","operationId":"auth#GenerateDiscordAuthURL","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateDiscordAuthURLResponseBody"},"example":{"url":"https://discord.com/api/oauth2/authorize?response_type=code\u0026client_id=157730590492196864\u0026scope=identify%20guilds.join\u0026state=15773059ghq9183habn\u0026redirect_uri=https%3A%2F%2Fnicememe.website\u0026prompt=consent"}}}}}}},"/challenge":{"get":{"tags":["challenge"],"summary":"ListChallenges challenge","operationId":"challenge#ListChallenges","parameters":[{"name":"view","in":"query","allowEmptyValue":true,"schema":{"type":"string","default":"default","example":"author","enum":["default","author"]},"example":"author"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"description":"Response body may alternatively be #/components/schemas/SsmChallengeResponseAuthorCollection","$ref":"#/components/schemas/SsmChallengeCollection"},"example":[{"description":"A heap overflow challenge","files":[{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"},{"description":"A heap overflow challenge","files":[{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"}]}}}}},"post":{"tags":["challenge"],"summary":"CreateChallenge challenge","operationId":"challenge#CreateChallenge","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChallengeRequestBody"},"example":{"description":"A heap overflow challenge","score":50,"slug":"pwnme","title":"pwnme"}}}},"responses":{"201":{"description":"Created response."}}}},"/challenge/{challengeId}/attempt":{"post":{"tags":["challenge"],"summary":"SubmitFlag challenge","operationId":"challenge#SubmitFlag","parameters":[{"name":"challengeId","in":"path","required":true,"schema":{"type":"string","example":"123","format":"uuid"},"example":"123"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitFlagRequestBody"},"example":{"flag":"SSM{flag}"}}}},"responses":{"200":{"description":"OK response."},"400":{"description":"If the challenge is already solved","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"id":"3F1FKVRR","message":"Value of ID must be an integer","name":"bad_request"}}}},"409":{"description":"If the challenge is already solved","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"id":"3F1FKVRR","message":"Value of ID must be an integer","name":"bad_request"}}}}}}}},"components":{"schemas":{"ChallengeService":{"type":"object","example":{}},"CreateChallengeRequestBody":{"type":"object","properties":{"description":{"type":"string","description":"A short text describing the challenge","example":"A heap overflow challenge"},"score":{"type":"integer","description":"The number of points given to the solver","example":50,"format":"int32"},"slug":{"type":"string","description":"A unique string that can be used in URLs","example":"pwnme"},"title":{"type":"string","description":"Title displayed to user","example":"pwnme"}},"example":{"description":"A heap overflow challenge","score":50,"slug":"pwnme","title":"pwnme"},"required":["id","title","description","score","published","slug"]},"Error":{"type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"example":{"id":"3F1FKVRR","message":"Value of ID must be an integer","name":"bad_request"},"required":["name","id","message","temporary","timeout","fault"]},"ExchangeDiscordRequestBody":{"type":"object","properties":{"code":{"type":"string","example":"123abc"},"state":{"type":"string","example":"15773059ghq9183habn"}},"example":{"code":"123abc","state":"15773059ghq9183habn"},"required":["code","state"]},"ExchangeDiscordResponseBody":{"type":"object","properties":{"jwt":{"type":"string","description":"A token to authenticate with the SSM API","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"}},"example":{"jwt":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"},"required":["jwt"]},"GenerateDiscordAuthURLResponseBody":{"type":"object","properties":{"url":{"type":"string","example":"https://discord.com/api/oauth2/authorize?response_type=code\u0026client_id=157730590492196864\u0026scope=identify%20guilds.join\u0026state=15773059ghq9183habn\u0026redirect_uri=https%3A%2F%2Fnicememe.website\u0026prompt=consent"}},"example":{"url":"https://discord.com/api/oauth2/authorize?response_type=code\u0026client_id=157730590492196864\u0026scope=identify%20guilds.join\u0026state=15773059ghq9183habn\u0026redirect_uri=https%3A%2F%2Fnicememe.website\u0026prompt=consent"},"required":["url"]},"SsmChallenge":{"type":"object","properties":{"description":{"type":"string","description":"A short text describing the challenge","example":"A heap overflow challenge"},"files":{"type":"array","items":{"$ref":"#/components/schemas/ChallengeService"},"example":[{},{}]},"id":{"type":"string","example":"e721a338-44de-4de8-a562-43d2db5f4115"},"published":{"type":"boolean","example":true},"score":{"type":"integer","description":"The number of points given to the solver","example":50,"format":"int32"},"services":{"type":"array","items":{"$ref":"#/components/schemas/ChallengeService"},"example":[{},{}]},"slug":{"type":"string","description":"A unique string that can be used in URLs","example":"pwnme"},"solves":{"type":"integer","description":"The numer of people who solved the challenge","example":3,"format":"int64"},"title":{"type":"string","description":"Title displayed to user","example":"pwnme"}},"description":"A Wargame challenge","example":{"description":"A heap overflow challenge","files":[{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"},"required":["solves","id","title","description","score","published","slug"]},"SsmChallengeCollection":{"type":"array","items":{"$ref":"#/components/schemas/SsmChallenge"},"example":[{"description":"A heap overflow challenge","files":[{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"},{"description":"A heap overflow challenge","files":[{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"},{"description":"A heap overflow challenge","files":[{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"},{"description":"A heap overflow challenge","files":[{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"}]},"SsmChallengeResponseAuthor":{"type":"object","properties":{"description":{"type":"string","description":"A short text describing the challenge","example":"A heap overflow challenge"},"files":{"type":"array","items":{"$ref":"#/components/schemas/ChallengeService"},"example":[{},{}]},"id":{"type":"string","example":"e721a338-44de-4de8-a562-43d2db5f4115"},"published":{"type":"boolean","example":true},"score":{"type":"integer","description":"The number of points given to the solver","example":50,"format":"int32"},"services":{"type":"array","items":{"$ref":"#/components/schemas/ChallengeService"},"example":[{},{},{}]},"slug":{"type":"string","description":"A unique string that can be used in URLs","example":"pwnme"},"solves":{"type":"integer","description":"The numer of people who solved the challenge","example":3,"format":"int64"},"title":{"type":"string","description":"Title displayed to user","example":"pwnme"}},"description":"A Wargame challenge (author view)","example":{"description":"A heap overflow challenge","files":[{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"},"required":["solves","id","title","description","score","published","slug"]},"SsmChallengeResponseAuthorCollection":{"type":"array","items":{"$ref":"#/components/schemas/SsmChallengeResponseAuthor"},"description":"ListChallengesResponseBody is the result type for an array of SsmChallengeResponse (author view)","example":[{"description":"A heap overflow challenge","files":[{},{},{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"},{"description":"A heap overflow challenge","files":[{},{},{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"},{"description":"A heap overflow challenge","files":[{},{},{},{}],"id":"e721a338-44de-4de8-a562-43d2db5f4115","published":true,"score":50,"services":[{},{},{},{}],"slug":"pwnme","solves":3,"title":"pwnme"}]},"SubmitFlagRequestBody":{"type":"object","properties":{"flag":{"type":"string","example":"SSM{flag}","maxLength":200}},"example":{"flag":"SSM{flag}"},"required":["flag"]}}},"tags":[{"name":"auth"},{"name":"challenge"}]}